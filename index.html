<!DOCTYPE html><html lang="uk"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Dasha-3D</title><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://dasha-3d.github.io/3D-life/"><link rel="alternate" type="application/atom+xml" href="https://dasha-3d.github.io/3D-life/feed.xml" title="Dasha-3D - RSS"><link rel="alternate" type="application/json" href="https://dasha-3d.github.io/3D-life/feed.json" title="Dasha-3D - JSON"><meta property="og:title" content="Dasha-3D"><meta property="og:site_name" content="Dasha-3D"><meta property="og:description" content=""><meta property="og:url" content="https://dasha-3d.github.io/3D-life/"><meta property="og:type" content="website"><link rel="stylesheet" href="https://dasha-3d.github.io/3D-life/assets/css/style.css?v=406c8e7c5f2190bc8d29368e9a04ae5b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"Dasha-3D","url":"https://dasha-3d.github.io/3D-life/"}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><style>/* --- 1. –¢–ï–ú–ê "SILVER" --- */
    * { box-sizing: border-box; }
    
    html, body {
        overflow-x: hidden !important;
        width: 100%;
        margin: 0 !important;
        padding: 0 !important;
        background-color: #dcdcdc; 
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        color: #333; 
    }

    /* --- 2. –ü–†–ò–•–û–í–£–í–ê–ù–ù–Ø –°–¢–ê–†–û–á –®–ê–ü–ö–ò --- */
    body > header, .navbar, .js-navbar, .top-nav, 
    .site-header, #masthead, .header__logo, .brand, .logo,
    .hero, .post-hero {
        display: none !important;
    }

    article header, .card header, .post header {
        display: block !important; padding: 0 !important; margin: 0 0 10px 0 !important;
    }

    main, .main, .container, .feed {
        margin-top: 0 !important; padding-top: 20px !important;
        max-width: 1200px !important; margin-left: auto !important; margin-right: auto !important;
    }

    /* --- 3. –°–¢–ò–õ–Ü –ö–ê–†–¢–û–ö --- */
    article, .card, .post, .feed__item {
        background: #ffffff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        margin-bottom: 20px;
        position: relative; 
        display: block; /* –í–∞–∂–ª–∏–≤–æ –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è */
    }

    /* –¢–ï–ö–°–¢–ò */
    article h1, article h2, article h3, 
    .card__title, .feed__title, 
    .card__title a, .feed__title a {
        display: block !important;
        color: #111 !important; 
        text-decoration: none !important;
        font-size: 1.1rem !important;
        font-weight: 700 !important;
        margin-bottom: 8px !important;
        line-height: 1.3 !important;
    }
    
    .feed__excerpt, .card__excerpt, p {
        color: #444 !important;
        font-size: 0.95rem;
    }

    img { max-width: 100% !important; height: auto !important; border-radius: 8px; }

    /* --- 4. –Ü–ù–¢–ï–†–§–ï–ô–° --- */
    .site-main-header {
        width: 100%; text-align: center; 
        background-color: #333;
        padding: 15px 0; margin: 0;
        font-size: 24px; font-weight: 900; 
        color: #FFD700;
        text-transform: uppercase; letter-spacing: 1px;
        border-bottom: 4px solid #FFD700;
        position: relative; z-index: 100;
    }

    .top-3d-banner {
        width: 100%; background: #222; 
        color: #fff; font-weight: 700; font-size: 13px;
        text-transform: uppercase; padding: 10px 0;
        overflow: hidden; white-space: nowrap; display: flex;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .banner-content {
        display: flex; gap: 50px; padding-left: 100%;
        animation: scrollText 30s linear infinite; 
    }
    @keyframes scrollText { 0% { transform: translateX(0); } 100% { transform: translateX(-200%); } }

    /* –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–Ü–ù–ù–Ø */
    .shop-controls {
        background: #ffffff; border-radius: 16px; 
        border: 1px solid #ccc;
        padding: 15px; margin-bottom: 30px; width: 95%; max-width: 800px;
        margin-left: auto; margin-right: auto;
        display: flex; flex-direction: column; gap: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    }

    .nav-row { width: 100%; margin-bottom: 5px; }
    .home-btn {
        display: flex; align-items: center; justify-content: center; gap: 8px;
        width: 100%; background-color: #333; color: white;
        text-decoration: none; padding: 10px; border-radius: 10px;
        font-weight: bold; transition: 0.2s;
    }
    .home-btn:hover { background-color: #555; }

    .search-input {
        width: 100%; background: #f0f0f0; color: #333; 
        border: 1px solid #ccc;
        padding: 0 40px 0 15px; border-radius: 10px; font-size: 16px; height: 48px;
    }
    
    .filters-row { display: flex; gap: 10px; width: 100%; }
    
    .sort-select, .fav-filter-btn { 
        width: 100%; height: 48px; background-color: #f0f0f0; color: #333; 
        border: 1px solid #ccc; border-radius: 10px; font-size: 14px; cursor: pointer;
        font-weight: 600;
    }
    .fav-filter-btn {
        background: transparent; border: 2px solid #ff4d4d; color: #ff4d4d;
        display: flex; align-items: center; justify-content: center; gap: 6px;
    }
    .fav-filter-btn.active { background: #ff4d4d; color: white; }

    /* –ü–ê–ù–ï–õ–¨ –ó–ê–ú–û–í–õ–ï–ù–ù–Ø –í–ò–ë–†–ê–ù–û–ì–û */
    .favorites-panel {
        display: none; background: #fff; border: 2px solid #FFD700; border-radius: 16px;
        padding: 20px; margin: 0 auto 30px auto; text-align: center; width: 95%; max-width: 600px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .favorites-panel.visible { display: block; }
    .fav-total-price { color: #333; font-size: 1.4em; font-weight: 900; margin-bottom: 15px; }
    
    .big-order-btn { 
        display: flex; justify-content: center; align-items: center; gap: 10px; 
        padding: 14px; border-radius: 30px; color: white; text-decoration: none; 
        font-weight: bold; width: 100%; margin-bottom: 10px; 
        font-size: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .back-btn { padding: 10px 20px; border-radius: 30px; background: #eee; color: #333; border: none; width: 100%; font-weight: bold; cursor: pointer; }

    .buttons-group { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; width: 100%; }
    .action-row { display: flex; flex-wrap: wrap; align-items: center; gap: 12px; margin-top: 5px; margin-bottom: 20px; width: 100%; }
    
    .custom-price-tag { 
        display: inline-block; width: fit-content;
        font-size: 14px; font-weight: 800; color: #333; 
        background-color: #FFD700; padding: 5px 12px; 
        border-radius: 8px; margin-bottom: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    /* –°–ï–†–î–ï–ß–ö–û */
    .card-heart { 
        position: absolute; top: 15px; right: 15px; font-size: 28px; 
        cursor: pointer; z-index: 999; /* –î—É–∂–µ –≤–∏—Å–æ–∫–∏–π z-index —â–æ–± –∫–ª—ñ–∫–∞–ª–æ—Å—å */
        color: #ccc; 
        transition: transform 0.2s; 
        background: rgba(255,255,255,0.9); 
        border-radius: 50%; width: 40px; height: 40px;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        user-select: none;
    }
    .card-heart.liked { color: #ff4d4d; animation: heartBurst 0.6s forwards; }
    @keyframes heartBurst { 0% { transform: scale(1); } 50% { transform: scale(1.4); } 100% { transform: scale(1); } }
    
    .toast-notification { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background-color: #333; color: white; padding: 12px 24px; border-radius: 30px; z-index: 9999; opacity: 0; visibility: hidden; transition: 0.3s; font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .toast-notification.show { opacity: 1; visibility: visible; bottom: 50px; }</style><div id="toast" class="toast-notification">‚úÖ –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –≤ –≤–∏–±—Ä–∞–Ω–µ</div><script>// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ window.onload –¥–ª—è 100% –≥–∞—Ä–∞–Ω—Ç—ñ—ó –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
window.onload = function() {
    initShop();
};

function initShop() {
    var viberNumber = "380681788275"; 
    var tgUsername = "Dashieed";
    var homeLink = "index.html"; 
    
    var categoryRules = [
        { id: 'all', label: 'üìÇ –í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó' },
        { id: 'fidgets', label: 'üåÄ –§—ñ–¥–∂–µ—Ç–∏', keywords: ['—Ñ—ñ–¥–∂–µ—Ç', 'fidget', '–≥–µ–∫—Å–∞–≥–æ–Ω', '–∫—É–±', '–∞–Ω—Ç–∏—Å—Ç—Ä–µ—Å', '—Å–ø—ñ–Ω–µ—Ä', 'clicker'] },
        { id: 'animals', label: 'üêæ –¢–≤–∞—Ä–∏–Ω–∏', keywords: ['–¥—Ä–∞–∫–æ–Ω', '–∑–º—ñ—è', '–∫—ñ—Ç', '–ø–µ—Å', '—Å–æ–±–∞–∫–∞', '–∂–∞–±–∞', '–∫–∞–ø—ñ–±–∞—Ä–∞', '–≤–µ–¥–º—ñ–¥—å', '—Ç–≤–∞—Ä–∏–Ω–∞', '—Å–æ–≤–∞', '–ª–∏—Å–∏—Ü—è', 'rex', '–¥–∏–Ω–æ'] },
        { id: 'weapons', label: '‚öîÔ∏è –ó–±—Ä–æ—è', keywords: ['–º–µ—á', '–Ω—ñ–∂', '–∫–∞—Ç–∞–Ω–∞', '–ø—ñ—Å—Ç–æ–ª–µ—Ç', '—Å–æ–∫–∏—Ä–∞', '–∫–µ—Ä–∞–º–±—ñ—Ç', '–∫—É–Ω–∞–π', '–∑–±—Ä–æ—è'] },
        { id: 'funny', label: 'ü§™ –ö—É–º–µ–¥–Ω—ñ', keywords: ['–ø—Ä–∏–∫–æ–ª', '–º–µ–º', '—Å–º—ñ—à', '–≥—É—Å–∞–∫', '–∫–∞—á–∫–∞', '—Ä–æ–∫', '–∂–µ—Å—Ç', '–¥—É–ª—è', 'funny', '—Å–µ—Ä–µ–¥–Ω—ñ–π –ø–∞–ª–µ—Ü—å'] },
        { id: 'puzzles', label: 'üß© –ü–∞–∑–ª–∏', keywords: ['–ø–∞–∑–ª', 'puzzle', '–≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞', '–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä', 'lego', '–ª–µ–≥–æ', '—Ç–µ—Ç—Ä—ñ—Å'] },
        { id: 'heroes', label: 'üß∏ –Ü–≥—Ä–æ–≤—ñ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ', keywords: ['–ø–æ–∫–µ–º–æ–Ω', '–º–∞—Ä—ñ–æ', '–≥—Ä–∞', 'game', '–ø–µ—Ä—Å–æ–Ω–∞–∂', '—Ä–æ–±–ª–æ–∫—Å', '–º–∞–π–Ω–∫—Ä–∞—Ñ—Ç', 'among', 'brawl', '–±—Ä–∞–≤–ª', '—Å—Ç—ñ—á'] },
        { id: 'decor', label: 'üè† –î–µ–∫–æ—Ä', keywords: ['–≤–∞–∑–∞', '–∫–∞—à–ø–æ', '–¥–µ–∫–æ—Ä', '–ª–∞–º–ø–∞', '–ø—ñ–¥—Å—Ç–∞–≤–∫–∞', '–æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä', '–±—Ä–µ–ª–æ–∫', '—á–µ—Ä–µ–ø', '—Ñ—ñ–≥—É—Ä–∫–∞'] }
    ];

    // –ó–±–∏—Ä–∞—î–º–æ —Ç–æ–≤–∞—Ä–∏. –®—É–∫–∞—î–º–æ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
    var articles = document.querySelectorAll('article, .post, .entry, .card, .feed__item');
    var favorites = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
    var toast = document.getElementById('toast');
    var currentCategory = 'all';

    function showToast(message) {
        toast.innerText = message;
        toast.classList.add('show');
        setTimeout(() => { toast.classList.remove('show'); }, 2500);
    }

    // --- 1. –®–ê–ü–ö–ê –Ü –ü–ê–ù–ï–õ–¨ ---
    // –í—Å—Ç–∞–≤–ª—è—î–º–æ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —â–µ –Ω–µ–º–∞—î
    if (!document.querySelector('.shop-controls')) {
        document.querySelectorAll('.site-main-header, .top-3d-banner').forEach(el => el.remove());
        var catOptionsHTML = categoryRules.map(cat => `<option value="${cat.id}">${cat.label}</option>`).join('');
        
        var tgIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="white" style="margin-right:5px; vertical-align:middle;"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.46-1.901-.903-1.056-.692-1.653-1.123-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.062 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.751-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.024-1.627 4.476-1.635.1-.002.321.023.465.14a.505.505 0 0 1 .171.325c.016.093.037.306.02.472z"/></svg>`;
        var vbIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="white" style="margin-right:5px; vertical-align:middle;"><path d="M22.5 11.1C22.5 5.5 17.9 1 12.2 1S2 5.5 2 11.1C2 14.6 3.9 17.7 6.8 19.5C6.2 19.8 5.6 20.1 5 20.4L4.5 22.8L8.9 20.7C10.2 21.1 11.7 21.2 13.1 21.1C18.4 20.7 22.5 16.3 22.5 11.1M17.4 16.3C16.8 17.2 15.5 17.5 14.9 17.6C12.5 17.9 8.8 15.2 6.9 12.3C6.1 11 6.1 9.7 7.4 8.5C7.8 8.1 8.3 7.7 8.7 7.4C9.1 7.1 9.4 7.3 9.6 7.7C9.9 8.3 10.6 10.2 10.7 10.4C10.8 10.6 10.7 10.9 10.5 11.1C10.3 11.3 10 11.6 9.8 11.8C9.6 12 9.4 12.3 9.6 12.7C10.1 13.7 11.1 15 12.6 16.3C13.2 16.8 13.7 16.9 14 16.6C14.3 16.3 14.8 15.7 15 15.3C15.2 15 15.5 15.1 15.8 15.2C16.1 15.3 17.6 16 17.9 16.2C18.2 16.3 18.4 16.4 18.4 16.6C18.4 16.6 18 17.1 17.4 16.3Z"/></svg>`;

        var headerHtml = `
            <div class="site-main-header">3D –î–†–£–ö –ù–ê –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</div>
            <div class="top-3d-banner"><div class="banner-content">üßä 3D –î–†–£–ö –ù–ê –ó–ê–ú–û–í–õ–ï–ù–ù–Ø ‚Ä¢ üì¶ –î–û–°–¢–ê–í–ö–ê –ü–û –£–ö–†–ê–á–ù–Ü ‚Ä¢ üßä 3D –î–†–£–ö –ù–ê –ó–ê–ú–û–í–õ–ï–ù–ù–Ø ‚Ä¢ üì¶ –î–û–°–¢–ê–í–ö–ê –ü–û –£–ö–†–ê–á–ù–Ü</div></div>
            <div class="shop-controls">
                <div class="nav-row">
                    <a href="${homeLink}" class="home-btn">üè† –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</a>
                </div>
                <div class="search-wrapper">
                    <input type="text" id="searchInput" class="search-input" placeholder="üîç –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É..." autocomplete="off">
                </div>
                <select id="categorySelect" class="sort-select">${catOptionsHTML}</select>
                <div class="filters-row">
                    <select id="sortOrder" class="sort-select" style="flex: 1;">
                        <option value="default">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</option>
                        <option value="priceAsc">–î–µ—à–µ–≤—ñ ‚Üë</option>
                        <option value="priceDesc">–î–æ—Ä–æ–≥—ñ ‚Üì</option>
                        <option value="nameAsc">–ê-–Ø</option>
                    </select>
                    <button id="favFilter" class="fav-filter-btn" style="flex: 1;">‚ù§ –í–∏–±—Ä–∞–Ω–µ (<span id="favCount">${favorites.length}</span>)</button>
                </div>
            </div>
            <div id="favOrderPanel" class="favorites-panel">
                <div class="fav-total-price">–°—É–º–∞: <span id="favTotalPriceValue">0</span> –≥—Ä–Ω</div>
                <a id="orderAllTg" href="#" target="_blank" class="big-order-btn" style="background-color: #24A1DE;">${tgIcon} –ó–∞–º–æ–≤–∏—Ç–∏ –≤—Å–µ</a>
                <a id="orderAllViber" href="#" target="_blank" class="big-order-btn" style="background-color: #7360f2;">${vbIcon} –ó–∞–º–æ–≤–∏—Ç–∏ –≤—Å–µ</a>
                <button id="closeFavBtn" class="back-btn">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å</button>
            </div>
        `;
        
        var wrapper = document.createElement('div');
        wrapper.innerHTML = headerHtml;
        document.body.insertBefore(wrapper, document.body.firstChild);
    }

    // --- 2. –û–ë–†–û–ë–ö–ê –¢–û–í–ê–†–Ü–í ---
    articles.forEach(function(article) {
        // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫
        var title = article.querySelector('h1, h2, h3, .post__title, .card__title');
        
        // –®—Ç—É—á–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, —è–∫—â–æ –π–æ–≥–æ –Ω–µ–º–∞—î
        if (!title) {
            var potentialLink = article.querySelector('a');
            if (potentialLink && potentialLink.textContent.length > 2) {
                title = document.createElement('h2');
                title.className = 'card__title';
                title.innerHTML = `<a href="${potentialLink.href}">${potentialLink.textContent}</a>`;
                article.insertBefore(title, article.firstChild);
            }
        }
        if (!title) return;

        var productName = title.textContent.trim();
        article.setAttribute('data-name', productName);

        // –¶—ñ–Ω–∞
        var excerptDiv = article.querySelector('.feed__excerpt, .card__excerpt, p, .post__excerpt');
        var priceValue = 0; 
        
        if (excerptDiv) {
            var text = excerptDiv.innerHTML;
            var priceMatch = text.match(/(?:–¶—ñ–Ω–∞\s*)?(\d+\s*–≥—Ä–Ω)/i);
            if (priceMatch) {
                excerptDiv.innerHTML = text.replace(priceMatch[0], ''); 
                priceValue = parseInt(priceMatch[1].replace(/\D/g, ''));
                var priceBadge = document.createElement('div');
                priceBadge.className = 'custom-price-tag';
                priceBadge.innerText = priceMatch[1];
                excerptDiv.parentNode.insertBefore(priceBadge, excerptDiv);
            }
        }
        article.setAttribute('data-price', priceValue);

        // –ö–ù–û–ü–ö–ò
        if (!article.querySelector('.action-row')) {
            var priceText = priceValue > 0 ? " (" + priceValue + " –≥—Ä–Ω)" : "";
            var msg = encodeURIComponent("üëã –ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏: " + productName + priceText);
            
            var btnStyle = "display: inline-flex; align-items: center; justify-content: center; font-size: 14px; color: white; padding: 10px 16px; border-radius: 25px; text-decoration: none; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.2s;";
            var tgIcon = `<svg viewBox="0 0 24 24" width="18" height="18" fill="white" style="margin-right:6px;"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.46-1.901-.903-1.056-.692-1.653-1.123-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.062 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.751-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.024-1.627 4.476-1.635.1-.002.321.023.465.14a.505.505 0 0 1 .171.325c.016.093.037.306.02.472z"/></svg>`;
            var vbIcon = `<svg viewBox="0 0 24 24" width="18" height="18" fill="white" style="margin-right:6px;"><path d="M22.5 11.1C22.5 5.5 17.9 1 12.2 1S2 5.5 2 11.1C2 14.6 3.9 17.7 6.8 19.5C6.2 19.8 5.6 20.1 5 20.4L4.5 22.8L8.9 20.7C10.2 21.1 11.7 21.2 13.1 21.1C18.4 20.7 22.5 16.3 22.5 11.1M17.4 16.3C16.8 17.2 15.5 17.5 14.9 17.6C12.5 17.9 8.8 15.2 6.9 12.3C6.1 11 6.1 9.7 7.4 8.5C7.8 8.1 8.3 7.7 8.7 7.4C9.1 7.1 9.4 7.3 9.6 7.7C9.9 8.3 10.6 10.2 10.7 10.4C10.8 10.6 10.7 10.9 10.5 11.1C10.3 11.3 10 11.6 9.8 11.8C9.6 12 9.4 12.3 9.6 12.7C10.1 13.7 11.1 15 12.6 16.3C13.2 16.8 13.7 16.9 14 16.6C14.3 16.3 14.8 15.7 15 15.3C15.2 15 15.5 15.1 15.8 15.2C16.1 15.3 17.6 16 17.9 16.2C18.2 16.3 18.4 16.4 18.4 16.6C18.4 16.6 18 17.1 17.4 16.3Z"/></svg>`;

            var btnsHTML = `
                <div class="action-row">
                    <div class="buttons-group">
                        <a href="https://t.me/${tgUsername}?text=${msg}" target="_blank" style="${btnStyle} background-color: #24A1DE;">${tgIcon} –ó–∞–º–æ–≤–∏—Ç–∏</a>
                        <a href="viber://chat?number=%2B${viberNumber}&draft=${msg}" target="_blank" style="${btnStyle} background-color: #7360f2;">${vbIcon} –ó–∞–º–æ–≤–∏—Ç–∏</a>
                    </div>
                </div>`;
            title.insertAdjacentHTML('afterend', btnsHTML);
        }

        // –°–ï–†–î–ï–ß–ö–û (–í–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–ª—ñ–∫)
        if (!article.querySelector('.card-heart')) {
            var heart = document.createElement('div');
            heart.className = 'card-heart';
            heart.innerHTML = '‚ù§';
            if (favorites.includes(productName)) heart.classList.add('liked');
            
            // –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ –ø–µ—Ä–µ—Ö–æ–¥—É –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ —Å–µ—Ä—Ü–µ
            heart.onclick = function(e) { e.preventDefault(); e.stopPropagation(); };

            heart.addEventListener('click', function(e) {
                // –ü–æ–¥–≤—ñ–π–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–µ—Ä–µ—Ö–æ–¥—É
                e.preventDefault(); 
                e.stopPropagation();

                this.classList.toggle('liked');
                favorites = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
                
                if (this.classList.contains('liked')) {
                    if (!favorites.includes(productName)) favorites.push(productName);
                    showToast("‚úÖ –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –≤ –≤–∏–±—Ä–∞–Ω–µ");
                } else {
                    favorites = favorites.filter(item => item !== productName);
                    showToast("‚ùå –¢–æ–≤–∞—Ä –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –≤–∏–±—Ä–∞–Ω–æ–≥–æ");
                }
                localStorage.setItem('dasha_favorites', JSON.stringify(favorites));
                document.getElementById('favCount').innerText = favorites.length;
                updateFavPanel();
                if(document.getElementById('favFilter').classList.contains('active')) applyFilters();
            });

            // –î–æ–¥–∞—î–º–æ —Å–µ—Ä—Ü–µ –¥–æ –∫–∞—Ä—Ç–∫–∏
            article.appendChild(heart);
        }
    });

    // –û–ù–û–í–õ–ï–ù–ù–Ø –ü–ê–ù–ï–õ–Ü –í–ò–ë–†–ê–ù–û–ì–û
    function updateFavPanel() {
        var favList = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
        var totalSum = 0;
        var list = [];
        
        // –ü–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ —Ü—ñ–Ω–∏
        favList.forEach(name => {
            // –®—É–∫–∞—î–º–æ —Ü—ñ–Ω—É —Å–µ—Ä–µ–¥ —É—Å—ñ—Ö —Ç–æ–≤–∞—Ä—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
            var foundArticle = Array.from(articles).find(a => a.getAttribute('data-name') === name);
            var p = foundArticle ? parseInt(foundArticle.getAttribute('data-price')) : 0;
            
            totalSum += p;
            list.push(`- ${name} (${p} –≥—Ä–Ω)`);
        });

        document.getElementById('favTotalPriceValue').innerText = totalSum;
        var msg = encodeURIComponent("üëã –ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ –∑ –≤–∏–±—Ä–∞–Ω–æ–≥–æ:\n" + list.join("\n") + "\n\nüí∞ –°–£–ú–ê: " + totalSum + " –≥—Ä–Ω");
        document.getElementById('orderAllTg').href = "https://t.me/" + tgUsername + "?text=" + msg;
        document.getElementById('orderAllViber').href = "viber://chat?number=%2B" + viberNumber + "&draft=" + msg;
    }

    // –°–û–†–¢–£–í–ê–ù–ù–Ø (–ü–ï–†–ï–ü–ò–°–ê–ù–ï)
    function sortArticles(type) {
        // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –±–æ DOM –º—ñ–≥ –∑–º—ñ–Ω–∏—Ç–∏—Å—å
        var currentItems = Array.from(document.querySelectorAll('article, .post, .entry, .card, .feed__item'));
        if (currentItems.length === 0) return;

        var parent = currentItems[0].parentNode;

        currentItems.sort(function(a, b) {
            var priceA = parseInt(a.getAttribute('data-price')) || 0;
            var priceB = parseInt(b.getAttribute('data-price')) || 0;
            var nameA = a.getAttribute('data-name').toLowerCase();
            var nameB = b.getAttribute('data-name').toLowerCase();
            
            if (type === 'priceAsc') return priceA - priceB;
            if (type === 'priceDesc') return priceB - priceA;
            if (type === 'nameAsc') return nameA.localeCompare(nameB);
            return 0;
        });

        // –í—Å—Ç–∞–≤–ª—è—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞–∑–∞–¥ —É DOM —É –Ω–æ–≤–æ–º—É –ø–æ—Ä—è–¥–∫—É
        currentItems.forEach(function(el) {
            parent.appendChild(el);
        });
    }

    function applyFilters() {
        var term = document.getElementById('searchInput').value.toLowerCase();
        var favMode = document.getElementById('favFilter').classList.contains('active');
        
        articles.forEach(art => {
            var name = art.getAttribute('data-name').toLowerCase();
            var catMatch = (currentCategory === 'all');
            if (currentCategory !== 'all') {
                var rule = categoryRules.find(r => r.id === currentCategory);
                if (rule) catMatch = rule.keywords.some(k => name.includes(k));
            }
            var searchMatch = name.includes(term);
            var favMatch = favMode ? favorites.includes(art.getAttribute('data-name')) : true;
            
            art.style.display = (catMatch && searchMatch && favMatch) ? '' : 'none';
        });
    }

    // –°–õ–£–•–ê–ß–Ü –ü–û–î–Ü–ô
    document.getElementById('categorySelect').addEventListener('change', function() { currentCategory = this.value; applyFilters(); });
    document.getElementById('searchInput').addEventListener('input', applyFilters);
    
    var favBtn = document.getElementById('favFilter');
    favBtn.addEventListener('click', () => {
        favBtn.classList.toggle('active');
        document.getElementById('favOrderPanel').classList.toggle('visible');
        updateFavPanel(); applyFilters();
    });
    document.getElementById('closeFavBtn').addEventListener('click', () => favBtn.click());
    
    document.getElementById('sortOrder').addEventListener('change', function() {
        sortArticles(this.value);
    });
}</script></head><body class="home-template"><header class="top js-header"><a class="logo" href="https://dasha-3d.github.io/3D-life/">Dasha-3D</a></header><main><div class="hero hero--noimage"><header class="hero__content hero__content--centered"><div class="wrapper"><h4 class="align-center"><strong><em>3D –î—Ä—É–∫ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.</em></strong><br>–î—Ä—É–∫ 3D-—Ñ—ñ–≥—É—Ä–æ–∫ ‚Äî –æ–±–∏—Ä–∞–π—Ç–µ –∑ –∫–∞—Ç–∞–ª–æ–≥—É –∞–±–æ –Ω–∞–¥–∞–≤–∞–π—Ç–µ –≤–ª–∞—Å–Ω—É –º–æ–¥–µ–ª—å!</h4></div></header></div><div class="wrapper feed"><article class="feed__item"><figure class="feed__image"><img src="https://dasha-3d.github.io/3D-life/media/posts/6/unitaz.webp" srcset="https://dasha-3d.github.io/3D-life/media/posts/6/responsive/unitaz-xs.webp 640w, https://dasha-3d.github.io/3D-life/media/posts/6/responsive/unitaz-sm.webp 768w, https://dasha-3d.github.io/3D-life/media/posts/6/responsive/unitaz-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="1162" width="1000" alt=""></figure><div class="feed__content"><header><h2 class="feed__title"><a href="https://dasha-3d.github.io/3D-life/unitaz-z-nizhkami-prikol.html">–£–Ω—ñ—Ç–∞–∑ –∑ –Ω—ñ–∂–∫–∞–º–∏ –ø—Ä–∏–∫–æ–ª</a></h2></header><p>–£–Ω—ñ—Ç–∞–∑ –∑ —Ä—É—Ö–æ–º–∏–º–∏ –Ω—ñ–∂–∫–∞–º–∏. –ö–æ–ª—ñ—Ä: –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.70–≥—Ä–Ω</p></div></article><article class="feed__item"><figure class="feed__image"><img src="https://dasha-3d.github.io/3D-life/media/posts/5/2024-10-07_6b65dee2424b2.webp" srcset="https://dasha-3d.github.io/3D-life/media/posts/5/responsive/2024-10-07_6b65dee2424b2-xs.webp 640w, https://dasha-3d.github.io/3D-life/media/posts/5/responsive/2024-10-07_6b65dee2424b2-sm.webp 768w, https://dasha-3d.github.io/3D-life/media/posts/5/responsive/2024-10-07_6b65dee2424b2-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="750" width="1000" alt=""></figure><div class="feed__content"><header><h2 class="feed__title"><a href="https://dasha-3d.github.io/3D-life/drakon-gnuchkiy.html">–î—Ä–∞–∫–æ–Ω –≥–Ω—É—á–∫–∏–π</a></h2></header><p>–î–æ–≤–∂–∏–Ω–∞ 32—Å–º. –ö–æ–ª—ñ—Ä: –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. 95–≥—Ä–Ω</p></div></article><article class="feed__item"><figure class="feed__image"><img src="https://dasha-3d.github.io/3D-life/media/posts/2/hex.jpg" srcset="https://dasha-3d.github.io/3D-life/media/posts/2/responsive/hex-xs.jpg 640w, https://dasha-3d.github.io/3D-life/media/posts/2/responsive/hex-sm.jpg 768w, https://dasha-3d.github.io/3D-life/media/posts/2/responsive/hex-md.jpg 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="1000" width="1000" alt=""></figure><div class="feed__content"><header><h2 class="feed__title"><a href="https://dasha-3d.github.io/3D-life/fidzhet-geksagon.html">–§—ñ–¥–∂–µ—Ç –ì–µ–∫—Å–∞–≥–æ–Ω¬†</a></h2></header><p>–§—ñ–¥–∂–µ—Ç —Ä—É—Ö–æ–º–∏–π —à–µ—Å—Ç–∏–∫—É—Ç–Ω–∏–∫, —Å—Ç–æ—Ä–æ–Ω–∞ 5.5 —Å–º. –ö–æ–ª—ñ—Ä: –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. 110–≥—Ä–Ω</p></div></article><article class="feed__item"><figure class="feed__image"><img src="https://dasha-3d.github.io/3D-life/media/posts/1/dragon-skeleton.webp" srcset="https://dasha-3d.github.io/3D-life/media/posts/1/responsive/dragon-skeleton-xs.webp 640w, https://dasha-3d.github.io/3D-life/media/posts/1/responsive/dragon-skeleton-sm.webp 768w, https://dasha-3d.github.io/3D-life/media/posts/1/responsive/dragon-skeleton-md.webp 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="750" width="1000" alt=""></figure><div class="feed__content"><header><h2 class="feed__title"><a href="https://dasha-3d.github.io/3D-life/skelet-drakona.html">–°–∫–µ–ª–µ—Ç –î—Ä–∞–∫–æ–Ω–∞</a></h2></header><p>–í–∏—Å–æ—Ç–∞ 10—Å–º. –ö–æ–ª—ñ—Ä: –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. 90–≥—Ä–Ω</p></div></article></div></main><footer class="footer"><div class="wrapper"><div class="footer__copyright"><p>Powered by Publii</p></div><button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://dasha-3d.github.io/3D-life/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://dasha-3d.github.io/3D-life/assets/js/scripts.min.js?v=700105c316933a8202041b6415abb233"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><style>/* --- 1. –°–í–Ü–¢–õ–ê –¢–ï–ú–ê (–ì–õ–û–ë–ê–õ–¨–ù–Ü –°–¢–ò–õ–Ü) --- */
    * { box-sizing: border-box; }
    
    html, body {
        overflow-x: hidden !important;
        width: 100%;
        margin: 0 !important;
        padding: 0 !important;
        background-color: #f4f4f4; /* –°–≤—ñ—Ç–ª–æ-—Å—ñ—Ä–∏–π —Ñ–æ–Ω */
        font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        color: #333333; /* –¢–µ–º–Ω–∏–π —Ç–µ–∫—Å—Ç */
    }

    /* --- 2. –ü–†–ò–•–û–í–£–í–ê–ù–ù–Ø –°–¢–ê–†–û–á –®–ê–ü–ö–ò --- */
    body > header, .navbar, .js-navbar, .top-nav, 
    .site-header, #masthead, .header__logo, .brand, .logo,
    .hero, .post-hero {
        display: none !important;
    }

    /* –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ —É —Ç–æ–≤–∞—Ä–∞—Ö */
    article header, .card header, .post header {
        display: block !important; padding: 0 !important; margin: 0 0 10px 0 !important;
    }

    /* –í—ñ–¥—Å—Ç—É–ø–∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É */
    main, .main, .container, .feed {
        margin-top: 0 !important; padding-top: 20px !important;
        max-width: 1200px !important; margin-left: auto !important; margin-right: auto !important;
    }

    /* --- 3. –¢–ï–ö–°–¢–ò –Ü –ö–ê–†–¢–ö–ò (–°–í–Ü–¢–õ–Ü) --- */
    article h1, article h2, article h3, 
    .card__title, .feed__title, 
    .card__title a, .feed__title a {
        display: block !important;
        color: #111111 !important; /* –ß–æ—Ä–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
        text-decoration: none !important;
        text-shadow: none !important;
        font-size: 1.1rem !important;
        font-weight: 700 !important;
        margin-bottom: 8px !important;
        line-height: 1.3 !important;
    }
    
    .feed__excerpt, .card__excerpt, p {
        color: #555555 !important; /* –°—ñ—Ä–∏–π —Ç–µ–∫—Å—Ç –æ–ø–∏—Å—É */
        font-size: 0.95rem;
    }

    img { max-width: 100% !important; height: auto !important; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

    /* --- 4. –ï–õ–ï–ú–ï–ù–¢–ò –Ü–ù–¢–ï–†–§–ï–ô–°–£ --- */
    
    /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–∞–π—Ç—É */
    .site-main-header {
        width: 100%; text-align: center; 
        background-color: #ffffff; /* –ë—ñ–ª–∏–π —Ñ–æ–Ω */
        padding: 15px 0; margin: 0;
        font-size: 24px; font-weight: 900; 
        color: #333; /* –¢–µ–º–Ω–∏–π —Ç–µ–∫—Å—Ç */
        text-transform: uppercase; letter-spacing: 1px;
        border-bottom: 1px solid #e0e0e0;
        position: relative; z-index: 100;
    }

    /* –ë—ñ–≥—É—á–∏–π —Ä—è–¥–æ–∫ (–¢–µ–º–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É) */
    .top-3d-banner {
        width: 100%; background: #222; /* –¢–µ–º–Ω–∏–π —Ñ–æ–Ω */
        color: #FFD700; font-weight: 700; font-size: 13px;
        text-transform: uppercase; padding: 10px 0;
        overflow: hidden; white-space: nowrap; display: flex;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .banner-content {
        display: flex; gap: 50px; padding-left: 100%;
        animation: scrollText 30s linear infinite; /* –°–ø–æ–≤—ñ–ª—å–Ω–µ–Ω–æ –¥–æ 30—Å */
    }
    @keyframes scrollText { 0% { transform: translateX(0); } 100% { transform: translateX(-200%); } }

    /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è */
    .shop-controls {
        background: #ffffff; border-radius: 16px; 
        border: 1px solid #e0e0e0;
        padding: 15px; margin-bottom: 30px; width: 95%; max-width: 800px;
        margin-left: auto; margin-right: auto;
        display: flex; flex-direction: column; gap: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    }

    .search-input {
        width: 100%; background: #f9f9f9; color: #333; 
        border: 1px solid #ddd;
        padding: 0 40px 0 15px; border-radius: 10px; font-size: 16px; height: 48px;
        transition: 0.3s;
    }
    .search-input:focus { outline: none; border-color: #FFD700; background: #fff; }
    
    .filters-row { display: flex; gap: 10px; width: 100%; }
    
    .sort-select, .fav-filter-btn { 
        width: 100%; height: 48px; background-color: #f9f9f9; color: #333; 
        border: 1px solid #ddd; border-radius: 10px; font-size: 14px; cursor: pointer;
        font-weight: 600;
    }
    .fav-filter-btn {
        background: transparent; border: 2px solid #ff4d4d; color: #ff4d4d;
        display: flex; align-items: center; justify-content: center; gap: 6px;
    }
    .fav-filter-btn.active { background: #ff4d4d; color: white; }

    /* --- 5. –ö–û–®–ò–ö –¢–ê –ö–ù–û–ü–ö–ò --- */
    .favorites-panel {
        display: none; background: #fff; border: 2px solid #FFD700; border-radius: 16px;
        padding: 20px; margin: 0 auto 30px auto; text-align: center; width: 95%; max-width: 600px;
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.15);
    }
    .favorites-panel.visible { display: block; }
    .fav-total-price { color: #333; font-size: 1.4em; font-weight: 900; margin-bottom: 15px; }
    
    .big-order-btn { 
        display: flex; justify-content: center; align-items: center; gap: 10px; 
        padding: 14px; border-radius: 30px; color: white; text-decoration: none; 
        font-weight: bold; width: 100%; margin-bottom: 10px; 
        font-size: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transition: transform 0.2s;
    }
    .big-order-btn:active { transform: scale(0.98); }
    
    .back-btn { padding: 10px 20px; border-radius: 30px; background: #eee; color: #333; border: none; width: 100%; font-weight: bold; cursor: pointer; }

    .buttons-group { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; width: 100%; }
    .action-row { display: flex; flex-wrap: wrap; align-items: center; gap: 12px; margin-top: 5px; margin-bottom: 20px; width: 100%; }
    
    /* –¶—ñ–Ω–Ω–∏–∫: –ñ–æ–≤—Ç–∏–π —Ñ–æ–Ω, —Ç–µ–º–Ω–∏–π —Ç–µ–∫—Å—Ç */
    .custom-price-tag { 
        font-size: 15px; font-weight: 800; color: #333; 
        background-color: #FFD700; padding: 6px 14px; 
        border-radius: 20px; 
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    /* –°–µ—Ä–¥–µ—á–∫–æ */
    .card-heart { 
        position: absolute; top: 10px; right: 10px; font-size: 26px; 
        cursor: pointer; z-index: 10; color: white; 
        filter: drop-shadow(0 0 3px rgba(0,0,0,0.5)); /* –¢—ñ–Ω—å —â–æ–± –±—É–ª–æ –≤–∏–¥–Ω–æ –Ω–∞ –±—ñ–ª–æ–º—É */
        transition: transform 0.2s; 
    }
    .card-heart.liked { color: #ff4d4d; filter: none; animation: heartBurst 0.6s forwards; }
    @keyframes heartBurst { 0% { transform: scale(1); } 50% { transform: scale(1.4); } 100% { transform: scale(1); } }
    
    .toast-notification { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background-color: #333; color: white; padding: 12px 24px; border-radius: 30px; z-index: 9999; opacity: 0; visibility: hidden; transition: 0.3s; font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
    .toast-notification.show { opacity: 1; visibility: visible; bottom: 50px; }</style><div id="toast" class="toast-notification">‚úÖ –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –≤ –≤–∏–±—Ä–∞–Ω–µ</div><script>window.addEventListener("DOMContentLoaded", function() {
    var viberNumber = "380681788275"; 
    var tgUsername = "Dashieed";
    
    var categoryRules = [
        { id: 'all', label: 'üìÇ –í—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó' },
        { id: 'fidgets', label: 'üåÄ –§—ñ–¥–∂–µ—Ç–∏', keywords: ['—Ñ—ñ–¥–∂–µ—Ç', 'fidget', '–≥–µ–∫—Å–∞–≥–æ–Ω', '–∫—É–±', '–∞–Ω—Ç–∏—Å—Ç—Ä–µ—Å', '—Å–ø—ñ–Ω–µ—Ä', 'clicker'] },
        { id: 'animals', label: 'üêæ –¢–≤–∞—Ä–∏–Ω–∏', keywords: ['–¥—Ä–∞–∫–æ–Ω', '–∑–º—ñ—è', '–∫—ñ—Ç', '–ø–µ—Å', '—Å–æ–±–∞–∫–∞', '–∂–∞–±–∞', '–∫–∞–ø—ñ–±–∞—Ä–∞', '–≤–µ–¥–º—ñ–¥—å', '—Ç–≤–∞—Ä–∏–Ω–∞', '—Å–æ–≤–∞', '–ª–∏—Å–∏—Ü—è', 'rex', '–¥–∏–Ω–æ'] },
        { id: 'weapons', label: '‚öîÔ∏è –ó–±—Ä–æ—è', keywords: ['–º–µ—á', '–Ω—ñ–∂', '–∫–∞—Ç–∞–Ω–∞', '–ø—ñ—Å—Ç–æ–ª–µ—Ç', '—Å–æ–∫–∏—Ä–∞', '–∫–µ—Ä–∞–º–±—ñ—Ç', '–∫—É–Ω–∞–π', '–∑–±—Ä–æ—è'] },
        { id: 'funny', label: 'ü§™ –ö—É–º–µ–¥–Ω—ñ', keywords: ['–ø—Ä–∏–∫–æ–ª', '–º–µ–º', '—Å–º—ñ—à', '–≥—É—Å–∞–∫', '–∫–∞—á–∫–∞', '—Ä–æ–∫', '–∂–µ—Å—Ç', '–¥—É–ª—è', 'funny', '—Å–µ—Ä–µ–¥–Ω—ñ–π –ø–∞–ª–µ—Ü—å'] },
        { id: 'puzzles', label: 'üß© –ü–∞–∑–ª–∏', keywords: ['–ø–∞–∑–ª', 'puzzle', '–≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞', '–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä', 'lego', '–ª–µ–≥–æ', '—Ç–µ—Ç—Ä—ñ—Å'] },
        { id: 'heroes', label: 'üß∏ –Ü–≥—Ä–æ–≤—ñ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ', keywords: ['–ø–æ–∫–µ–º–æ–Ω', '–º–∞—Ä—ñ–æ', '–≥—Ä–∞', 'game', '–ø–µ—Ä—Å–æ–Ω–∞–∂', '—Ä–æ–±–ª–æ–∫—Å', '–º–∞–π–Ω–∫—Ä–∞—Ñ—Ç', 'among', 'brawl', '–±—Ä–∞–≤–ª', '—Å—Ç—ñ—á'] },
        { id: 'decor', label: 'üè† –î–µ–∫–æ—Ä', keywords: ['–≤–∞–∑–∞', '–∫–∞—à–ø–æ', '–¥–µ–∫–æ—Ä', '–ª–∞–º–ø–∞', '–ø—ñ–¥—Å—Ç–∞–≤–∫–∞', '–æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä', '–±—Ä–µ–ª–æ–∫', '—á–µ—Ä–µ–ø', '—Ñ—ñ–≥—É—Ä–∫–∞'] }
    ];

    var articles = document.querySelectorAll('article, .post, .entry, .card, .feed__item');
    var favorites = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
    var toast = document.getElementById('toast');
    var productPrices = {}; 
    var currentCategory = 'all';

    function showToast(message) {
        toast.innerText = message;
        toast.classList.add('show');
        setTimeout(() => { toast.classList.remove('show'); }, 2500);
    }

    // --- –í–°–¢–ê–í–ö–ê –í–ï–†–•–ù–¨–û–á –ß–ê–°–¢–ò–ù–ò ---
    // –í—Å—Ç–∞–≤–ª—è—î–º–æ –ø—Ä—è–º–æ –≤ BODY, —â–æ–± –±—É–ª–æ –≤–∏–¥–Ω–æ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ
    if (!document.querySelector('.shop-controls')) {
        // –ß–∏—Å—Ç–∏–º–æ —Å—Ç–∞—Ä—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
        var oldHeaders = document.querySelectorAll('.site-main-header, .top-3d-banner');
        oldHeaders.forEach(el => el.remove());

        var catOptionsHTML = categoryRules.map(cat => `<option value="${cat.id}">${cat.label}</option>`).join('');
        
        // –Ü–∫–æ–Ω–∫–∏ SVG
        var tgIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="white" style="margin-right:5px; vertical-align:middle;"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.46-1.901-.903-1.056-.692-1.653-1.123-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.062 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.751-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.024-1.627 4.476-1.635.1-.002.321.023.465.14a.505.505 0 0 1 .171.325c.016.093.037.306.02.472z"/></svg>`;
        var vbIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="white" style="margin-right:5px; vertical-align:middle;"><path d="M22.5 11.1C22.5 5.5 17.9 1 12.2 1S2 5.5 2 11.1C2 14.6 3.9 17.7 6.8 19.5C6.2 19.8 5.6 20.1 5 20.4L4.5 22.8L8.9 20.7C10.2 21.1 11.7 21.2 13.1 21.1C18.4 20.7 22.5 16.3 22.5 11.1M17.4 16.3C16.8 17.2 15.5 17.5 14.9 17.6C12.5 17.9 8.8 15.2 6.9 12.3C6.1 11 6.1 9.7 7.4 8.5C7.8 8.1 8.3 7.7 8.7 7.4C9.1 7.1 9.4 7.3 9.6 7.7C9.9 8.3 10.6 10.2 10.7 10.4C10.8 10.6 10.7 10.9 10.5 11.1C10.3 11.3 10 11.6 9.8 11.8C9.6 12 9.4 12.3 9.6 12.7C10.1 13.7 11.1 15 12.6 16.3C13.2 16.8 13.7 16.9 14 16.6C14.3 16.3 14.8 15.7 15 15.3C15.2 15 15.5 15.1 15.8 15.2C16.1 15.3 17.6 16 17.9 16.2C18.2 16.3 18.4 16.4 18.4 16.6C18.4 16.6 18 17.1 17.4 16.3Z"/></svg>`;

        var headerHtml = `
            <div class="site-main-header">3D –î–†–£–ö –ù–ê –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</div>
            <div class="top-3d-banner"><div class="banner-content">üì¶ –î–û–°–¢–ê–í–ö–ê –ü–û –£–ö–†–ê–á–ù–Ü ‚Ä¢ üöÄ –®–í–ò–î–ö–ï –í–ò–ì–û–¢–û–í–õ–ï–ù–ù–Ø ‚Ä¢ üé® –Ü–ù–î–ò–í–Ü–î–£–ê–õ–¨–ù–ò–ô –ü–Ü–î–•–Ü–î ‚Ä¢ üì¶ –î–û–°–¢–ê–í–ö–ê –ü–û –£–ö–†–ê–á–ù–Ü ‚Ä¢ üöÄ –®–í–ò–î–ö–ï –í–ò–ì–û–¢–û–í–õ–ï–ù–ù–Ø</div></div>
            <div class="shop-controls">
                <div class="search-wrapper">
                    <input type="text" id="searchInput" class="search-input" placeholder="üîç –ü–æ—à—É–∫ —Ç–æ–≤–∞—Ä—É..." autocomplete="off">
                </div>
                <select id="categorySelect" class="sort-select">${catOptionsHTML}</select>
                <div class="filters-row">
                    <select id="sortOrder" class="sort-select" style="flex: 1;">
                        <option value="default">–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è</option>
                        <option value="priceAsc">–î–µ—à–µ–≤—ñ ‚Üë</option>
                        <option value="priceDesc">–î–æ—Ä–æ–≥—ñ ‚Üì</option>
                        <option value="nameAsc">–ê-–Ø</option>
                    </select>
                    <button id="favFilter" class="fav-filter-btn" style="flex: 1;">‚ù§ –í–∏–±—Ä–∞–Ω–µ (<span id="favCount">${favorites.length}</span>)</button>
                </div>
            </div>
            <div id="favOrderPanel" class="favorites-panel">
                <div class="fav-total-price">–°—É–º–∞: <span id="favTotalPriceValue">0</span> –≥—Ä–Ω</div>
                <a id="orderAllTg" href="#" target="_blank" class="big-order-btn" style="background-color: #24A1DE;">${tgIcon} –ó–∞–º–æ–≤–∏—Ç–∏ –≤—Å–µ</a>
                <a id="orderAllViber" href="#" target="_blank" class="big-order-btn" style="background-color: #7360f2;">${vbIcon} –ó–∞–º–æ–≤–∏—Ç–∏ –≤—Å–µ</a>
                <button id="closeFavBtn" class="back-btn">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å</button>
            </div>
        `;
        
        // –í—Å—Ç–∞–≤–ª—è—î–º–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ BODY
        var wrapper = document.createElement('div');
        wrapper.innerHTML = headerHtml;
        document.body.insertBefore(wrapper, document.body.firstChild);
    }

    // --- –û–ë–†–û–ë–ö–ê –¢–û–í–ê–†–Ü–í ---
    articles.forEach(function(article) {
        var title = article.querySelector('h1, h2, h3, .post__title, .card__title');
        if (!title) {
            var potentialLink = article.querySelector('a');
            if (potentialLink && potentialLink.textContent.length > 3) {
                title = document.createElement('h2');
                title.className = 'card__title';
                title.innerHTML = `<a href="${potentialLink.href}">${potentialLink.textContent}</a>`;
                article.insertBefore(title, article.firstChild);
            }
        }
        if (!title) return;

        var productName = title.textContent.trim();
        article.setAttribute('data-name', productName);

        var excerptDiv = article.querySelector('.feed__excerpt, .card__excerpt, p, .post__excerpt');
        var priceValue = 0; 
        
        if (excerptDiv) {
            var text = excerptDiv.innerHTML;
            var priceMatch = text.match(/(?:–¶—ñ–Ω–∞\s*)?(\d+\s*–≥—Ä–Ω)/i);
            if (priceMatch) {
                excerptDiv.innerHTML = text.replace(priceMatch[0], ''); 
                priceValue = parseInt(priceMatch[1].replace(/\D/g, ''));
                var priceBadge = document.createElement('div');
                priceBadge.className = 'custom-price-tag';
                priceBadge.innerText = priceMatch[1];
                excerptDiv.parentNode.insertBefore(priceBadge, excerptDiv);
            }
        }
        article.setAttribute('data-price', priceValue);
        productPrices[productName] = priceValue;

        // --- –ö–ù–û–ü–ö–ò –ó –Ü–ö–û–ù–ö–ê–ú–ò ---
        if (!article.querySelector('.action-row')) {
            var priceText = priceValue > 0 ? " (" + priceValue + " –≥—Ä–Ω)" : "";
            var msg = encodeURIComponent("üëã –ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏: " + productName + priceText);
            
            var btnStyle = "display: inline-flex; align-items: center; justify-content: center; font-size: 14px; color: white; padding: 10px 16px; border-radius: 25px; text-decoration: none; border: none; cursor: pointer; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.2s;";
            
            // –Ü–∫–æ–Ω–∫–∏
            var tgIcon = `<svg viewBox="0 0 24 24" width="18" height="18" fill="white" style="margin-right:6px;"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.46-1.901-.903-1.056-.692-1.653-1.123-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.062 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.751-.244-1.349-.374-1.297-.789.027-.216.324-.437.893-.663 3.498-1.524 5.831-2.529 6.998-3.014 3.332-1.386 4.024-1.627 4.476-1.635.1-.002.321.023.465.14a.505.505 0 0 1 .171.325c.016.093.037.306.02.472z"/></svg>`;
            var vbIcon = `<svg viewBox="0 0 24 24" width="18" height="18" fill="white" style="margin-right:6px;"><path d="M22.5 11.1C22.5 5.5 17.9 1 12.2 1S2 5.5 2 11.1C2 14.6 3.9 17.7 6.8 19.5C6.2 19.8 5.6 20.1 5 20.4L4.5 22.8L8.9 20.7C10.2 21.1 11.7 21.2 13.1 21.1C18.4 20.7 22.5 16.3 22.5 11.1M17.4 16.3C16.8 17.2 15.5 17.5 14.9 17.6C12.5 17.9 8.8 15.2 6.9 12.3C6.1 11 6.1 9.7 7.4 8.5C7.8 8.1 8.3 7.7 8.7 7.4C9.1 7.1 9.4 7.3 9.6 7.7C9.9 8.3 10.6 10.2 10.7 10.4C10.8 10.6 10.7 10.9 10.5 11.1C10.3 11.3 10 11.6 9.8 11.8C9.6 12 9.4 12.3 9.6 12.7C10.1 13.7 11.1 15 12.6 16.3C13.2 16.8 13.7 16.9 14 16.6C14.3 16.3 14.8 15.7 15 15.3C15.2 15 15.5 15.1 15.8 15.2C16.1 15.3 17.6 16 17.9 16.2C18.2 16.3 18.4 16.4 18.4 16.6C18.4 16.6 18 17.1 17.4 16.3Z"/></svg>`;

            var btnsHTML = `
                <div class="action-row">
                    <div class="buttons-group">
                        <a href="https://t.me/${tgUsername}?text=${msg}" target="_blank" style="${btnStyle} background-color: #24A1DE;">${tgIcon} –ó–∞–º–æ–≤–∏—Ç–∏</a>
                        <a href="viber://chat?number=%2B${viberNumber}&draft=${msg}" target="_blank" style="${btnStyle} background-color: #7360f2;">${vbIcon} –ó–∞–º–æ–≤–∏—Ç–∏</a>
                    </div>
                </div>`;
            title.insertAdjacentHTML('afterend', btnsHTML);
        }

        // –°–µ—Ä–¥–µ—á–∫–æ
        if (!article.querySelector('.card-heart')) {
            var heart = document.createElement('div');
            heart.className = 'card-heart';
            heart.innerHTML = '‚ù§';
            if (favorites.includes(productName)) heart.classList.add('liked');
            
            heart.addEventListener('click', function(e) {
                e.preventDefault();
                this.classList.toggle('liked');
                favorites = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
                if (this.classList.contains('liked')) {
                    if (!favorites.includes(productName)) favorites.push(productName);
                    showToast("‚úÖ –¢–æ–≤–∞—Ä –¥–æ–¥–∞–Ω–æ –≤ –≤–∏–±—Ä–∞–Ω–µ");
                } else {
                    favorites = favorites.filter(item => item !== productName);
                    showToast("‚ùå –¢–æ–≤–∞—Ä –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –≤–∏–±—Ä–∞–Ω–æ–≥–æ");
                }
                localStorage.setItem('dasha_favorites', JSON.stringify(favorites));
                document.getElementById('favCount').innerText = favorites.length;
                updateFavPanel();
                if(document.getElementById('favFilter').classList.contains('active')) applyFilters();
            });

            var imgContainer = article.querySelector('.feed__image, .card__image, img');
            if(imgContainer) {
                if(imgContainer.tagName === 'IMG') imgContainer = imgContainer.parentNode;
                if(getComputedStyle(imgContainer).position === 'static') imgContainer.style.position = 'relative';
                imgContainer.appendChild(heart);
            }
        }
    });

    function updateFavPanel() {
        var favList = JSON.parse(localStorage.getItem('dasha_favorites')) || [];
        var totalSum = 0;
        var list = [];
        favList.forEach(name => {
            var p = productPrices[name] || 0;
            totalSum += p;
            list.push(`- ${name} (${p} –≥—Ä–Ω)`);
        });
        document.getElementById('favTotalPriceValue').innerText = totalSum;
        // –û–ù–û–í–õ–ï–ù–ò–ô –¢–ï–ö–°–¢ –î–õ–Ø –í–ò–ë–†–ê–ù–û–ì–û
        var msg = encodeURIComponent("üëã –ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ –∑ –≤–∏–±—Ä–∞–Ω–æ–≥–æ:\n" + list.join("\n") + "\n\nüí∞ –°–£–ú–ê: " + totalSum + " –≥—Ä–Ω");
        document.getElementById('orderAllTg').href = "https://t.me/" + tgUsername + "?text=" + msg;
        document.getElementById('orderAllViber').href = "viber://chat?number=%2B" + viberNumber + "&draft=" + msg;
    }

    function applyFilters() {
        var term = document.getElementById('searchInput').value.toLowerCase();
        var favMode = document.getElementById('favFilter').classList.contains('active');
        articles.forEach(art => {
            var name = art.getAttribute('data-name').toLowerCase();
            var catMatch = (currentCategory === 'all');
            if (currentCategory !== 'all') {
                var rule = categoryRules.find(r => r.id === currentCategory);
                if (rule) catMatch = rule.keywords.some(k => name.includes(k));
            }
            var searchMatch = name.includes(term);
            var favMatch = favMode ? favorites.includes(art.getAttribute('data-name')) : true;
            art.style.display = (catMatch && searchMatch && favMatch) ? '' : 'none';
        });
    }

    document.getElementById('categorySelect').addEventListener('change', function() { currentCategory = this.value; applyFilters(); });
    document.getElementById('searchInput').addEventListener('input', applyFilters);
    var favBtn = document.getElementById('favFilter');
    favBtn.addEventListener('click', () => {
        favBtn.classList.toggle('active');
        document.getElementById('favOrderPanel').classList.toggle('visible');
        updateFavPanel(); applyFilters();
    });
    document.getElementById('closeFavBtn').addEventListener('click', () => favBtn.click());
    
    document.getElementById('sortOrder').addEventListener('change', function() {
        var type = this.value;
        var container = articles[0].parentNode;
        var arr = Array.from(articles);
        arr.sort((a, b) => {
            var pA = parseInt(a.getAttribute('data-price')) || 0;
            var pB = parseInt(b.getAttribute('data-price')) || 0;
            var nA = a.getAttribute('data-name').toLowerCase();
            var nB = b.getAttribute('data-name').toLowerCase();
            if (type === 'priceAsc') return pA - pB;
            if (type === 'priceDesc') return pB - pA;
            if (type === 'nameAsc') return nA.localeCompare(nB);
            return 0;
        });
        arr.forEach(el => container.appendChild(el));
    });
});</script></body></html>